<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Crypto Hub - Live Prices & Events</title>
<meta name="description" content="Live crypto prices and upcoming crypto events.">
<link rel="stylesheet" href="style.css">

<!-- Adsense + Analytics -->
<meta name="google-adsense-account" content="ca-pub-3051797649580954">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3051797649580954" crossorigin="anonymous"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-KP903HTNPT"></script>
<script>
window.dataLayer=window.dataLayer||[];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config','G-KP903HTNPT',{anonymize_ip:true});
</script>
<script src="script.js"></script>
</head>
<body>
<div class="container">
<h1>Crypto Hub</h1>

<!-- Navigation -->
<nav>
<a href="index.html">Home</a> | 
<a href="live.html">Live Tracker</a> | 
<a href="gainers.html">Top Gainers</a> | 
<a href="staking.html">Staking / ROI</a> | 
<a href="guides.html">Guide</a>
</nav>

<!-- Live Coin Price -->
<div class="row">
<input type="text" id="searchCoinHome" placeholder="Search coin (BTC, ETH...)">
<button onclick="checkPrice('searchCoinHome','coinPriceHome')">Check Price</button>
</div>
<p id="coinPriceHome" style="font-size:1.2rem;margin-top:10px;"></p>

<!-- Upcoming Crypto Events -->
<h2>Upcoming Crypto Events</h2>
<div id="eventsFeed">
<p>Loading events...</p>
</div>

<!-- Adsense -->
<div class="ads-block">
<ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-3051797649580954" data-ad-slot="872965908" data-ad-format="auto" data-full-width-responsive="true"></ins>
<script>(adsbygoogle=window.adsbygoogle||[]).push({});</script>
</div>
</div>

<script>
// Fetch top 5 crypto events from CoinGecko
fetch('https://api.coingecko.com/api/v3/events')
.then(r => r.json())
.then(data => {
    const feed = document.getElementById('eventsFeed');
    feed.innerHTML = '';
    const events = data.data ? data.data.slice(0,5) : [];
    if(!events.length){
        feed.innerHTML = '<p>No upcoming events.</p>';
        return;
    }
    const table = document.createElement('table');
    table.innerHTML = `
    <tr>
        <th>Date</th>
        <th>Event</th>
        <th>Coin</th>
        <th>Link</th>
    </tr>`;
    events.forEach(e => {
        const tr = document.createElement('tr');
        tr.innerHTML = `
        <td>${new Date(e.start_date).toLocaleDateString()}</td>
        <td>${e.title}</td>
        <td>${e.coins ? e.coins.join(', ') : '-'}</td>
        <td>${e.website_url ? `<a href="${e.website_url}" target="_blank">Link</a>` : '-'}</td>`;
        table.appendChild(tr);
    });
    feed.appendChild(table);
})
.catch(err => {
    document.getElementById('eventsFeed').innerHTML = '<p>Failed to load events.</p>';
    console.error(err);
});
</script>

</body>
</html>
